{% extends "layouts/base.njk" %}

{%block sidebarContent %}
            
<div class="l-grid-top">
  <a href="/"> < Home</a>
</div>

<div class="l-grid-bottom">
  <div class="project-info--photo is-hidden">
    {%- for photo in project.gallery -%}
      <div class="project-gallery-image-info is-hidden" data-gallery-index="{{loop.index0}}">
        <div class="project-gallery-image-title">{{photo.title}}</div>
        <div class="project-gallery-image-caption hide-on-mobile">{{photo.caption}}</div>
      </div>
    {%- endfor -%}
  </div>

  <h1 class="project-info--title">{{project.title}}</h1>

  <div class="project-info--links">
    <a class="project-info--link" onclick="showContainer('project-gallery')" data-container="project-gallery">Gallery</a> / 
    <a class="project-info--link container-active" onclick="showContainer('project-index')" data-container="project-index">Index</a> /
    <a class="project-info--link" onclick="showContainer('project-statement')" data-container="project-statement">Statement</a>
  </div>
</div>
{%endblock%}

{% block main %}
<div id="project-index" class="l-grid-index-container l-grid-content-container l-scroll-wrapper">
  {%- for photo in project.gallery -%}
  <img class="lazyload fade-in l-grid-index-item" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 1600 %}" data-gallery-index={{loop.index0}} alt="{{photo.alt}}" onclick="onIndexClick({{loop.index0}})"/>
  {%- endfor -%}
</div>

<div id="project-gallery" class="l-grid-content-container is-hidden">
  <div class="project-gallery-nav-wrapper">
    <div class="project-gallery-nav-left" onclick="goLeft()"></div>
    <div class="project-gallery-nav-right" onclick="goRight()"></div>
  </div>
  {%- for photo in project.gallery -%}
    <div class="project-gallery-image-container is-hidden" data-gallery-index={{loop.index0}}>
      <img class="lazyload l-grid-index-item" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 1600 %}" alt={{photo.alt}}/>
    </div>
  {%- endfor -%}
</div>

<div id="project-statement" class="l-grid-content-container is-hidden">
  {{ project.statement | markdownify | safe }}
</div>

<script>{% include "js/gallery.js" %}</script>
{%endblock%}
