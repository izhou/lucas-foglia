{% extends "layouts/base.njk" %}

{% block sidebarTop %}
  <a style="font-weight: bold;" href="onBack()"> < Back</a>
{%endblock%}

{% block sidebarBottom %}

  <div id="project-info--photo" class="is-hidden">
    {%- for photo in project.gallery -%}
      <div class="project-gallery-image-info is-hidden" data-gallery-index="{{loop.index0}}">
        <h3 class="project-gallery-image-title">{{photo.title}}</h3>
        <div class="project-gallery-image-caption">{{photo.caption}}</div>
      </div>
    {%- endfor -%}
  </div>
  <h1 class="project-info--title">{{project.title}}</h1>

  <div class="project-info--links">
    <a class="project-info--link" onclick="showContainer('project-gallery')" data-container="project-gallery">Gallery</a> / 
    <a class="project-info--link container-active" onclick="showContainer('project-index')" data-container="project-index">Index</a> /
    <a class="project-info--link" onclick="showContainer('project-statement')" data-container="project-statement">Statement</a>
  </div>
{%endblock%}

{% block main %}
<div id="project-index" class="l-grid-index-container l-grid-content-container l-scroll-wrapper">
  {%- for photo in project.gallery -%}
  <img class="lazyload fade-in l-grid-index-item" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 1600 %}" data-gallery-index={{loop.index0}} alt="{{photo.alt}}" onclick="onIndexClick({{loop.index0}})"/>
  {%- endfor -%}
</div>

<div id="project-gallery" class="l-grid-content-container is-hidden">
  <div class="project-gallery-nav-wrapper">
    <div class="project-gallery-nav-left" onclick="goLeft()"></div>
    <div class="project-gallery-nav-right" onclick="goRight()"></div>
  </div>
  {%- for photo in project.gallery -%}
    <div class="project-gallery-image-container is-hidden" data-gallery-index={{loop.index0}}>
      <img class="lazyload blur-up l-grid-index-item" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 6400 %}" alt={{photo.alt}}/>
    </div>
  {%- endfor -%}
</div>

<div id="project-statement" class="l-grid-content-container is-hidden"></div>

<script>{% include "js/gallery.js" %}</script>
{%endblock%}
