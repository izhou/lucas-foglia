{% extends "layouts/base.njk" %}

{% set css %}
  {% include "styles/home.css" %}
{%endset%}

{% block gridMiddleRight %}
  {%- for project in metadata.timeline -%}
    <div class="home-project" class="grid-right-content is-hidden">
      <div class="home-gallery-nav-wrapper">
        <div class="home-gallery-nav-left" onclick="goLeft()"></div>
        <div class="home-gallery-nav-right" onclick="goRight()"></div>
      </div>
      <div class="home-project-gallery">
        {%- for photo in project.gallery -%}
          <div class="project-gallery-photo-container" data-photo-key="{{photo._key}}" data-gallery-index={{loop.index0}}>
            <img class="lazyload project-gallery-photo" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 1600 %}" alt={{photo.alt}}/>
          </div>
        {%- endfor -%}
      </div>

       <div class="home-gallery-project-title">{{project.title}}</div>
    </div>
   {%- endfor -%}

  {# <div class="home-timeline grid-right-content">
    {%- for project in metadata.timeline -%}
      <div class="home-timeline-project">
        <div class="home-timeline-project-gallery">
          {%- for photo in project.gallery  -%}
            <div class="home-timeline-project-tile is-hidden">
              <img class="lazyload home-timeline-project-photo" src="{% imageUrlFor photo, 100 %}" data-src="{% imageUrlFor photo, 1600 %}" data-gallery-index={{loop.index0}} alt="{{photo.alt}}" onclick="onIndexClick({{loop.index0}})"/>
            </div>
          {%- endfor -%}
        </div>
        <div class="home-timeline-project-title">{{project.title}}</div>
      </div>
    {%- endfor -%}
  </div> #}
{%endblock%}

{% block js %}
  <script src="{{ "/assets/lazysizes.min.js" | url }}"></script>
  <script>{% include "js/home.js" %}</script>
{% endblock %}